## OAuth2 Авторизация hh.ru

### 1. Хранение секретов

- Client ID и Client Secret приложения hh.ru хранятся в переменных окружения backend-сервера.
- Данные являются конфиденциальными и не передаются клиентским приложениям.
- Доступ к секретам ограничен только для backend.

### 2. Процесс авторизации

1. Клиент направляет пользователя на URL авторизации hh.ru с Client ID.
2. Пользователь проходит авторизацию и разрешает доступ.
3. hh.ru редиректит на backend `/auth/hh/callback` с authorization_code.
4. Backend с помощью Client ID и Client Secret обменивает code на access_token и refresh_token.
5. Токены сохраняются в базе `ApiTokens`, связаны с пользователем.

### 3. Обновление токенов

- При истечении срока действия access_token backend использует refresh_token для запроса новых токенов.
- Запрос выполняется на `https://api.hh.ru/token` с параметрами client_id, client_secret и refresh_token.
- Новые токены обновляют запись в `ApiTokens`.

### 4. Безопасность

- Client Secret хранится только на сервере и не передается клиентам.
- Рекомендуется использовать защищённые хранилища и ограничивать доступ к секретам.